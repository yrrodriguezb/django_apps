{% extends "base.html" %}

{% block title %}My Blog{% endblock %}

{% block content %}
  <h1 class="title">My Blog</h1>

  {% for post in posts %}
    {% if tag %}
    <h1 class="subtitle">Posts tagged with <strong>"{{ tag.name }}"</strong></h1>
    {% endif %}

    
    <div class="tags">
      <div class="tag is-link">Tags</div>
      {% for tag in post.tags.all %}
      <a class="tag is-primary" href="{% url 'blog:post_list_by_tag' tag.slug %}">{{ tag.name }}</a>
      {% endfor %}
    </div>
    
    <h5 class="title is-5">
      <a href="{{ post.get_absolute_url }}"> {{ post.title }}</a>
    </h5>

    <br>
    <h5 class="subtitle is-5">Published {{ post.publish }} by {{ post.author }}</h5>
    
    <div class="content">
      {{ post.body|truncatewords:30|linebreaks }}
    </div>

  {% endfor %}

  {% include "includes/components/paginator.html" with page=posts %}

{% endblock %}