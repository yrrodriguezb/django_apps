{% extends "base.html" %}
{% load blog_filters %}

{% block title %}My Blog{% endblock %}

{% block content %}
  <div class="level">
    <div class="level-left">
      <h1 class="title level-item">My Blog</h1>
    </div>
    <div class="level-right">
      <form action="" method="GET">
        <div class="control has-icons-left has-icons-right">
          <input class="input is-rounded" placeholder="Buscar" type="text" name="query" value="{{ request.GET.query }}">

          <span class="icon is-medium is-right">
            <i class="fas fa-search"></i>
          </span>
        </div>
      </form>
    </div>
  </div>

  <div class="columns">
  {% for post in posts %}
    <div class="column">
      {% if tag %}
      <h1 class="subtitle">Posts tagged with <strong>"{{ tag.name }}"</strong></h1>
      {% endif %}
      {% include "blog/includes/post.html" with post=post %}
    </div>
  {% endfor %}
  </div>

  {% include "includes/components/paginator.html" with page=posts query=request.GET.query %}

{% endblock %}